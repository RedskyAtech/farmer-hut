<Page actionBarHidden="true">
    <GridLayout class="page">
        <CardView #warningDialog modal size="lg" duration="100" backgroundColor="transparent">
            <GridLayout rows="auto,auto,auto,auto" width="80%" height="30%" borderRadius="20" backgroundColor="white">
                <StackLayout row="0" height="40%">
                    <Image height="80vh" width="80vh" src="res://warning"></Image>
                </StackLayout>
                <StackLayout row="1" height="20%" verticalAlignment="middle">
                    <Label color="black" textWrap="true" textAlignment="center" fontSize="18" fontWeight="900"
                        text="Something Went Wrong"></Label>
                </StackLayout>
                <StackLayout row="2" height="20%" verticalAlignment="middle">
                    <Label color="black" textWrap="true" textAlignment="center" fontSize="14" fontWeight="500"
                        [text]="errorMessage"></Label>
                </StackLayout>
                <StackLayout row="3" height="20%">
                    <Button class="ok-button" text="OK" (tap)="onOK()"></Button>
                </StackLayout>
            </GridLayout>
        </CardView>
        <GridLayout rows="auto,auto,auto,auto,auto,auto,auto">
            <GridLayout row="0" columns="auto,auto,auto" width="100%" marginTop="10" height="30%">
                <StackLayout col="0" height="50%" verticalAlignment="top" width="20%">
                    <Image class="backButton" src="res://back_icon" (tap)="onBack()"></Image>
                </StackLayout>
                <StackLayout col="1" height="100%" width="60%">
                    <Image class="appLogo" src="res://logo"></Image>
                </StackLayout>
                <StackLayout col="2" width="20%">
                </StackLayout>
            </GridLayout>
            <StackLayout row="1" width="100%" height="10%">
                <Label class="appLabel" text="Farmer's Hut"></Label>
            </StackLayout>
            <StackLayout row="2" width="80%" height="10%">
                <Label class="description-label" textWrap="true"
                    text="For confirmation, you need to enter your otp."></Label>
            </StackLayout>
            <StackLayout row="3" width="80%" height="10%">
                <TextField [hint]="otpHint" (textChange)="onOtpTextChanged($event)" secure="false" keyboardType="phone"
                    maxLength="6" [borderColor]="otpBorderColor" returnKeyType="done" autocorrect="false"
                    class="input input-border input-field">
                </TextField>
            </StackLayout>
            <StackLayout row="4" width="80%" height="10%" verticalAlignment="middle">
                <Button class="button" text="Confirm OTP" (tap)="onSubmit()"></Button>
            </StackLayout>
            <GridLayout *ngIf="isVisibleTimer" row="5" width="80%" height="10%">
                <StackLayout verticalAlignment="middle" horizontalAlignment="center" orientation="horizontal">
                    <Label color="#00C012" fontSize="16" textAlignment="center" text="Otp expires in "></Label>
                    <Label color="white" fontSize="16" textAlignment="center" [text]="minutes"></Label>
                    <Label color="white" fontSize="16" textAlignment="center" text=" : "></Label>
                    <Label color="white" fontSize="16" textAlignment="center" [text]="seconds"></Label>
                    <Label color="white" fontSize="16" textAlignment="center" [text]="unit"></Label>
                </StackLayout>
            </GridLayout>
            <GridLayout *ngIf="isVisibleOtpStatus" row="5" width="80%" height="10%" horizontalAlignment="center"
                orientation="horizontal">
                <StackLayout verticalAlignment="middle" horizontalAlignment="center" orientation="horizontal">
                    <Label color="#00C012" fontSize="16" textAlignment="center"
                        text="Otp is expired, Please resend otp."></Label>
                </StackLayout>
            </GridLayout>
            <StackLayout *ngIf="isVisibleResendButton" row="6" width="80%" height="10%">
                <Button class="resend-button" text="Resend OTP" (tap)="onResend()"></Button>
            </StackLayout>
        </GridLayout>
    </GridLayout>
</Page>